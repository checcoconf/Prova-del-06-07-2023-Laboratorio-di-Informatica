<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.7" xml:lang="it">
  <compounddef id="_gestione___file_8c" kind="file" language="C++">
    <compoundname>Gestione_File.c</compoundname>
    <includes refid="_header_8h" local="yes">Header.h</includes>
    <includes refid="_pila_8h" local="yes">Pila.h</includes>
    <includes refid="_gestione___file_8h" local="yes">Gestione_File.h</includes>
    <includes refid="_difensiva_8h" local="yes">Difensiva.h</includes>
    <incdepgraph>
      <node id="13">
        <label>Difensiva.h</label>
        <link refid="_difensiva_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>Gestione_File.c</label>
        <link refid="_gestione___file_8c"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
      </node>
      <node id="12">
        <label>Gestione_File.h</label>
        <link refid="_gestione___file_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
      </node>
      <node id="2">
        <label>Header.h</label>
        <link refid="_header_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
      </node>
      <node id="11">
        <label>Pila.h</label>
        <link refid="_pila_8h"/>
      </node>
      <node id="7">
        <label>conio.h</label>
      </node>
      <node id="8">
        <label>ctype.h</label>
      </node>
      <node id="6">
        <label>stdbool.h</label>
      </node>
      <node id="3">
        <label>stdio.h</label>
      </node>
      <node id="4">
        <label>stdlib.h</label>
      </node>
      <node id="5">
        <label>string.h</label>
      </node>
      <node id="9">
        <label>time.h</label>
      </node>
      <node id="10">
        <label>unistd.h</label>
      </node>
    </incdepgraph>
      <sectiondef kind="func">
      <memberdef kind="function" id="_gestione___file_8c_1a1168eb7135f375e52e8bd2647f5aceaa" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int apriFile</definition>
        <argsstring>(const char *nome_file, const char *modo, FILE **file)</argsstring>
        <name>apriFile</name>
        <param>
          <type>const char *</type>
          <declname>nome_file</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>modo</declname>
        </param>
        <param>
          <type>FILE **</type>
          <declname>file</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>apriFile <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">*nome_file</parametername>
</parameternamelist>
<parameterdescription>
<para>e&apos; un puntatore a carattere </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">*modo</parametername>
</parameternamelist>
<parameterdescription>
<para>e&apos; un puntatore a carattere </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">*file</parametername>
</parameternamelist>
<parameterdescription>
<para>e&apos; un puntatore al file </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="pre"><para>nome_file non e&apos; una stringa non nulla. </para>
</simplesect>
<simplesect kind="pre"><para>nodo e&apos; una stringa non nulla. </para>
</simplesect>
<simplesect kind="pre"><para>file e&apos; un puntatore al puntatore del file e non deve essere NULL. </para>
</simplesect>
<simplesect kind="return"><para>restituisce 1 se il file e&apos; stato aperto con successo </para>
</simplesect>
<simplesect kind="return"><para>restituisce 0 se il file non e&apos; stato aperto con successo </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/franc/Desktop/ESAME 1.0/ESAME 1.0/Gestione_File.c" line="29" column="5" bodyfile="C:/Users/franc/Desktop/ESAME 1.0/ESAME 1.0/Gestione_File.c" bodystart="29" bodyend="36"/>
      </memberdef>
      <memberdef kind="function" id="_gestione___file_8c_1a70e54fed9441b5a1967a8b7ae25611aa" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int chiudiFile</definition>
        <argsstring>(FILE *file)</argsstring>
        <name>chiudiFile</name>
        <param>
          <type>FILE *</type>
          <declname>file</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>chiudiFile <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">*file</parametername>
</parameternamelist>
<parameterdescription>
<para>e&apos; un puntatore al file</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="post"><para>ritorna 0 o 1. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/franc/Desktop/ESAME 1.0/ESAME 1.0/Gestione_File.c" line="45" column="5" bodyfile="C:/Users/franc/Desktop/ESAME 1.0/ESAME 1.0/Gestione_File.c" bodystart="45" bodyend="50"/>
      </memberdef>
      <memberdef kind="function" id="_gestione___file_8c_1a2876fce7ec0bafb317cba4d6bc365f5d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void leggiFile</definition>
        <argsstring>(const char *nomeFile, Pila **pilaPassata)</argsstring>
        <name>leggiFile</name>
        <param>
          <type>const char *</type>
          <declname>nomeFile</declname>
        </param>
        <param>
          <type><ref refid="struct_pila" kindref="compound">Pila</ref> **</type>
          <declname>pilaPassata</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>leggiFile</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">*nomeFile</parametername>
</parameternamelist>
<parameterdescription>
<para>e&apos; un puntatore al nome del file. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">*pilaPassata</parametername>
</parameternamelist>
<parameterdescription>
<para>e&apos; un puntatore al puntatore di una pila in cui memorizzare le stringhe lette. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="pre"><para>*nome_file una stringa non nulla </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/franc/Desktop/ESAME 1.0/ESAME 1.0/Gestione_File.c" line="58" column="6" bodyfile="C:/Users/franc/Desktop/ESAME 1.0/ESAME 1.0/Gestione_File.c" bodystart="58" bodyend="96"/>
        <references refid="_gestione___file_8c_1a70e54fed9441b5a1967a8b7ae25611aa" compoundref="_gestione___file_8c" startline="45" endline="50">chiudiFile</references>
        <references refid="_pila_8c_1a1a4a58a2d8307f5ae1d19530276b3aa8" compoundref="_pila_8c" startline="22" endline="33">push</references>
        <references refid="_difensiva_8c_1ab7ecab88c7b5e55dd6ff92b6e8a8ee57" compoundref="_difensiva_8c" startline="91" endline="96">rimuoviNewline</references>
        <references refid="_difensiva_8c_1a794ce04c28daadf80d72788064d326aa" compoundref="_difensiva_8c" startline="63" endline="85">validatore_file</references>
      </memberdef>
      <memberdef kind="function" id="_gestione___file_8c_1af89ed7e3e33f8526f4c5fbdb9b13c648" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void scriviFile</definition>
        <argsstring>(const char *nomeFile, const char *msg, const char *modo)</argsstring>
        <name>scriviFile</name>
        <param>
          <type>const char *</type>
          <declname>nomeFile</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>msg</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>modo</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Scrive un messaggio in un file specificato.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">*nomeFile</parametername>
</parameternamelist>
<parameterdescription>
<para>e&apos; il nome del file in cui scrivere il messaggio. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">*msg</parametername>
</parameternamelist>
<parameterdescription>
<para>e&apos; messaggio da scrivere nel file. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">*modo</parametername>
</parameternamelist>
<parameterdescription>
<para>e&apos; la modalità di apertura del file (&quot;r&quot;, &quot;w&quot;, &quot;a&quot;).</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="pre"><para>Il file specificato deve essere aperto correttamente e accessibile in base alla modalità specificata. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/franc/Desktop/ESAME 1.0/ESAME 1.0/Gestione_File.c" line="107" column="6" bodyfile="C:/Users/franc/Desktop/ESAME 1.0/ESAME 1.0/Gestione_File.c" bodystart="107" bodyend="111"/>
        <references refid="_gestione___file_8c_1a70e54fed9441b5a1967a8b7ae25611aa" compoundref="_gestione___file_8c" startline="45" endline="50">chiudiFile</references>
      </memberdef>
      <memberdef kind="function" id="_gestione___file_8c_1a96e75ff208f3c092478847945f49137d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void scriviFileFormattato</definition>
        <argsstring>(const char *nomeFile, Pila *pila)</argsstring>
        <name>scriviFileFormattato</name>
        <param>
          <type>const char *</type>
          <declname>nomeFile</declname>
        </param>
        <param>
          <type><ref refid="struct_pila" kindref="compound">Pila</ref> *</type>
          <declname>pila</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Scrive il contenuto di una pila formattata in un file specificato.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">*nomeFile</parametername>
</parameternamelist>
<parameterdescription>
<para>e&apos; il nome del file in cui scrivere il contenuto formattato. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">*pila</parametername>
</parameternamelist>
<parameterdescription>
<para>e&apos; la pila contenente i dati da scrivere nel file.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="pre"><para>Il file specificato deve essere aperto correttamente e accessibile in modalità di scrittura. </para>
</simplesect>
<simplesect kind="pre"><para>La pila deve essere valida e correttamente inizializzata. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/franc/Desktop/ESAME 1.0/ESAME 1.0/Gestione_File.c" line="122" column="6" bodyfile="C:/Users/franc/Desktop/ESAME 1.0/ESAME 1.0/Gestione_File.c" bodystart="122" bodyend="157"/>
        <references refid="struct_pila_1aa51f190825baa5e4b80aa3a80d06b2ce" compoundref="_pila_8h" startline="24">Pila::dato</references>
        <references refid="struct_pila_1a1885e0e21f2563f74f2a71c5072bff21" compoundref="_pila_8h" startline="25">Pila::nextPtr</references>
        <references refid="_gestione___file_8c_1af89ed7e3e33f8526f4c5fbdb9b13c648" compoundref="_gestione___file_8c" startline="107" endline="111">scriviFile</references>
        <references refid="_difensiva_8c_1a794ce04c28daadf80d72788064d326aa" compoundref="_difensiva_8c" startline="63" endline="85">validatore_file</references>
      </memberdef>
      <memberdef kind="function" id="_gestione___file_8c_1a62b0996e46a5853c3937354c84e153c6" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void scrivi_log</definition>
        <argsstring>(const char *messaggio)</argsstring>
        <name>scrivi_log</name>
        <param>
          <type>const char *</type>
          <declname>messaggio</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Scrive un messaggio di log in un file di log.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">*messaggio</parametername>
</parameternamelist>
<parameterdescription>
<para>e&apos; il messaggio da scrivere nel file di log.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="pre"><para>Il file di log &quot;Log.txt&quot; deve essere accessibile e scrivibile. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/franc/Desktop/ESAME 1.0/ESAME 1.0/Gestione_File.c" line="166" column="6" bodyfile="C:/Users/franc/Desktop/ESAME 1.0/ESAME 1.0/Gestione_File.c" bodystart="166" bodyend="184"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para>Questo file include tutte le funzioni per la gestione del file. </para>
    </briefdescription>
    <detaileddescription>
<para><simplesect kind="version"><para>1.0.0 </para>
</simplesect>
<simplesect kind="date"><para>06/07/2023 </para>
</simplesect>
<simplesect kind="authors"><para>Calabrese Lorenzo </para>
</simplesect>
<simplesect kind="authors"><para>Cappelluti Claudia Antonia </para>
</simplesect>
<simplesect kind="authors"><para>Conforti Francesco </para>
</simplesect>
</para>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_header_8h" kindref="compound">Header.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_pila_8h" kindref="compound">Pila.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_gestione___file_8h" kindref="compound">Gestione_File.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_difensiva_8h" kindref="compound">Difensiva.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight></codeline>
<codeline lineno="29" refid="_gestione___file_8c_1a1168eb7135f375e52e8bd2647f5aceaa" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="_gestione___file_8c_1a1168eb7135f375e52e8bd2647f5aceaa" kindref="member">apriFile</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>nome_file,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>modo,<sp/>FILE**<sp/>file)<sp/>{</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/>*file<sp/>=<sp/>fopen(nome_file,<sp/>modo);</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(*file<sp/>==<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;<sp/>Errore:<sp/>impossibile<sp/>aprire<sp/>il<sp/>file<sp/>&apos;%s&apos;.\n&quot;</highlight><highlight class="normal">,<sp/>nome_file);</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>1;</highlight></codeline>
<codeline lineno="36"><highlight class="normal">}</highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight></codeline>
<codeline lineno="45" refid="_gestione___file_8c_1a70e54fed9441b5a1967a8b7ae25611aa" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="_gestione___file_8c_1a70e54fed9441b5a1967a8b7ae25611aa" kindref="member">chiudiFile</ref>(FILE*<sp/>file)<sp/>{</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!fclose(file))</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>1;</highlight></codeline>
<codeline lineno="50"><highlight class="normal">}</highlight></codeline>
<codeline lineno="58" refid="_gestione___file_8c_1a2876fce7ec0bafb317cba4d6bc365f5d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="_gestione___file_8c_1a2876fce7ec0bafb317cba4d6bc365f5d" kindref="member">leggiFile</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>nomeFile,<sp/><ref refid="struct_pila" kindref="compound">Pila</ref>**<sp/>pilaPassata)<sp/>{</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/>FILE*<sp/>file<sp/>=<sp/>fopen(nomeFile,<sp/></highlight><highlight class="stringliteral">&quot;r&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="_difensiva_8c_1a794ce04c28daadf80d72788064d326aa" kindref="member">validatore_file</ref>(nomeFile))<sp/>{</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>free(pilaPassata);</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exit(0);</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>stringheLette<sp/>=<sp/>0,<sp/>index;</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>riga[SIZE_PILA];</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>stringa[SIZE_PILA];</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>len;</highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(fgets(riga,<sp/>SIZE_PILA,<sp/>file)<sp/>!=<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>len<sp/>=<sp/>strlen(riga);</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Rimuove<sp/>i<sp/>trattini<sp/>e<sp/>memorizza<sp/>la<sp/>stringa<sp/>senza<sp/>trattini</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>len;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(riga[i]<sp/>!=<sp/></highlight><highlight class="charliteral">&apos;-&apos;</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stringa[index]<sp/>=<sp/>riga[i];</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index++;</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stringa[index]<sp/>=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_difensiva_8c_1ab7ecab88c7b5e55dd6ff92b6e8a8ee57" kindref="member">rimuoviNewline</ref>(stringa);</highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_pila_8c_1a1a4a58a2d8307f5ae1d19530276b3aa8" kindref="member">push</ref>(pilaPassata,<sp/>stringa);</highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stringheLette++;</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_gestione___file_8c_1a70e54fed9441b5a1967a8b7ae25611aa" kindref="member">chiudiFile</ref>(file);</highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stringheLette<sp/>&lt;<sp/>4)<sp/>{</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;|ERRORE|<sp/>-<sp/>Il<sp/>file<sp/>in<sp/>input<sp/>contiene<sp/>solo<sp/><sp/>%d<sp/>stringhe<sp/>per<sp/>cui<sp/>non<sp/>e&apos;<sp/>possibile<sp/>procedere<sp/>con<sp/>l&apos;elaborazione.&quot;</highlight><highlight class="normal">,stringheLette);</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exit(0);</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="96"><highlight class="normal">}</highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight></codeline>
<codeline lineno="107" refid="_gestione___file_8c_1af89ed7e3e33f8526f4c5fbdb9b13c648" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="_gestione___file_8c_1af89ed7e3e33f8526f4c5fbdb9b13c648" kindref="member">scriviFile</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*nomeFile,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*msg,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>modo){</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/>FILE*<sp/>file<sp/>=<sp/>fopen(nomeFile,<sp/>modo);</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/>fprintf(file,</highlight><highlight class="stringliteral">&quot;%s\n&quot;</highlight><highlight class="normal">,msg);</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_gestione___file_8c_1a70e54fed9441b5a1967a8b7ae25611aa" kindref="member">chiudiFile</ref>(file);</highlight></codeline>
<codeline lineno="111"><highlight class="normal">}</highlight></codeline>
<codeline lineno="112"><highlight class="normal"></highlight></codeline>
<codeline lineno="122" refid="_gestione___file_8c_1a96e75ff208f3c092478847945f49137d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="_gestione___file_8c_1a96e75ff208f3c092478847945f49137d" kindref="member">scriviFileFormattato</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>nomeFile,<sp/><ref refid="struct_pila" kindref="compound">Pila</ref>*<sp/>pila)<sp/>{</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="_difensiva_8c_1a794ce04c28daadf80d72788064d326aa" kindref="member">validatore_file</ref>(nomeFile))<sp/>{</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exit(-1);</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_pila" kindref="compound">Pila</ref>*<sp/>nodoCorrente<sp/>=<sp/>pila;</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>lunghezzaTotale<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/>lunghezzaTotale<sp/>+=<sp/>strlen(nodoCorrente-&gt;<ref refid="struct_pila_1aa51f190825baa5e4b80aa3a80d06b2ce" kindref="member">dato</ref>);</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>caratteri<sp/>=<sp/>malloc(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">)<sp/>*<sp/>(lunghezzaTotale<sp/>+<sp/>1));</highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/>nodoCorrente<sp/>=<sp/>pila;</highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Copia<sp/>i<sp/>caratteri<sp/>nella<sp/>variabile<sp/>caratteri</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(nodoCorrente<sp/>!=<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>index<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>nodoCorrente-&gt;<ref refid="struct_pila_1aa51f190825baa5e4b80aa3a80d06b2ce" kindref="member">dato</ref>[i]<sp/>!=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nodoCorrente-&gt;<ref refid="struct_pila_1aa51f190825baa5e4b80aa3a80d06b2ce" kindref="member">dato</ref>[i]<sp/>==<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">){</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>caratteri[index]<sp/>=<sp/></highlight><highlight class="charliteral">&apos;\n&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index++;</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="keywordflow">else</highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>caratteri[index]<sp/>=<sp/>nodoCorrente-&gt;<ref refid="struct_pila_1aa51f190825baa5e4b80aa3a80d06b2ce" kindref="member">dato</ref>[i];</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index++;</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>caratteri[index]<sp/>=<sp/></highlight><highlight class="charliteral">&apos;-&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index++;</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Rimuovi<sp/>l&apos;ultimo<sp/>trattino</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(index<sp/>&gt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>caratteri[index<sp/>-<sp/>1]<sp/>=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_gestione___file_8c_1af89ed7e3e33f8526f4c5fbdb9b13c648" kindref="member">scriviFile</ref>(nomeFile,caratteri,</highlight><highlight class="stringliteral">&quot;a+&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nodoCorrente<sp/>=<sp/>nodoCorrente-&gt;<ref refid="struct_pila_1a1885e0e21f2563f74f2a71c5072bff21" kindref="member">nextPtr</ref>;</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="157"><highlight class="normal">}</highlight></codeline>
<codeline lineno="158"><highlight class="normal"></highlight></codeline>
<codeline lineno="166" refid="_gestione___file_8c_1a62b0996e46a5853c3937354c84e153c6" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="_gestione___file_8c_1a62b0996e46a5853c3937354c84e153c6" kindref="member">scrivi_log</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>messaggio)<sp/>{</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/>FILE*<sp/>file<sp/>=<sp/>fopen(</highlight><highlight class="stringliteral">&quot;Log.txt&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;a&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(file<sp/>!=<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>time_t<sp/>timestamp<sp/>=<sp/>time(NULL);</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">tm*<sp/>tempo<sp/>=<sp/>localtime(&amp;timestamp);</highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Ottiene<sp/>la<sp/>data<sp/>e<sp/>l&apos;ora<sp/>corrente</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>data_ora[20];</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>strftime(data_ora,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(data_ora),<sp/></highlight><highlight class="stringliteral">&quot;%Y-%m-%d<sp/>%H:%M:%S&quot;</highlight><highlight class="normal">,<sp/>tempo);</highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Scrive<sp/>il<sp/>messaggio<sp/>di<sp/>log<sp/>nel<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(file,<sp/></highlight><highlight class="stringliteral">&quot;[%s]<sp/>%s\n&quot;</highlight><highlight class="normal">,<sp/>data_ora,<sp/>messaggio);</highlight></codeline>
<codeline lineno="179"><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fclose(file);</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;<sp/>Errore<sp/>nell&apos;apertura<sp/>del<sp/>file<sp/>di<sp/>log.\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="184"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="C:/Users/franc/Desktop/ESAME 1.0/ESAME 1.0/Gestione_File.c"/>
  </compounddef>
</doxygen>
